<!DOCTYPE html>
<html lang="en">

    <div th:replace="fragments/user-header :: head(title='History Exam')"></div>

    <body class="animsition">
        <div class="page-wrapper">
            <div th:replace="fragments/user-header :: header(title='History Exam')"></div>
            <!-- PAGE CONTENT-->
            <div class="page-container3">
                <section class="alert-wrap p-t-10 p-b-10">
                    <div class="container">
                    </div>
                </section>
                <section class="m-t-60">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-3">
                                <div th:replace="fragments/user-header :: sidebar"></div>
                            </div>
                            <div class="col-xl-9">
                                <!-- PAGE CONTENT-->
                                <div class="page-content">
                                    <div class="row">
                                        <center>
                                            <div class="flex-container">
                                                <button id="hideDataExam" class="btn btn-light" onclick="getModule('cpp');showData();">
                                                    <img class="logo-container" src="images/logo-CPP.png" style="heigth: 80px; width: 80px;">
                                                </button>
                                                <div>
                                                    <hr class="line-dashed">
                                                </div>
                                                <button id="hideDataExam" class="btn btn-light" onclick="getModule('DOT');showData();">
                                                    <img class="logo-container" src="images/logo-NET.png" style="heigth: 80px; width: 80px;">
                                                </button>
                                                <div>
                                                    <hr class="line-dashed">
                                                </div>
                                                <button id="hideDataExam" class="btn btn-light" onclick="getModule('HTM');showData();">
                                                    <img class="logo-container" src="images/logo-HTML.png" style="heigth: 80px; width: 80px;">
                                                </button>
                                                <div>
                                                    <hr class="line-dashed">
                                                </div>
                                                <button id="hideDataExam" class="btn btn-light" onclick="getModule('JAV');showData();">
                                                    <img class="logo-container" src="images/logo-java.png" style="heigth: 80px; width: 80px;">
                                                </button>
                                                <div>
                                                    <hr class="line-dashed">
                                                </div>
                                                <button id="hideDataExam" class="btn btn-light" onclick="getModule('REA');showData();">
                                                    <img class="logo-container" src="images/logo-REACT.png" style="heigth: 80px; width: 80px;">
                                                </button>
                                            </div>
                                        </center>
                                    </div>
                                    <div class="row">
                                        <div class="container">
                                            <div id="testing" class="timeline">
                                                <div class="timeline-month">
                                                    History Exam
                                                </div>
                                                <div id="module">

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button id="testing">TEST KE</button>
                            </div>
                        </div>
                        <div th:replace="fragments/user-footer :: footer"> </div>
                    </div>
                    <!-- END PAGE CONTENT-->




                </section>
            </div>
            <!-- END PAGE CONTENT  -->
        </div>
        <div th:replace="fragments/user-footer :: script"></div>

    </body>
    <script>
//        getModule('CPP');
        function getModule(id) {
            $("#module").html("");
            $.ajax({
                'async': false,
                'type': "GET",
                'global': false,
                'url': "/historyExam/" + id,
                'data': {id: id},
                'success': function (data) {
                    for (var i = 0; i < data.length; i++) {
                        var dt = data[i].date;
                        function formatDate(t) {
                            var d = new Date(t),
                                    month = '' + (d.getMonth() + 1),
                                    day = '' + d.getDate(),
                                    year = d.getFullYear();

                            if (month.length < 2)
                                month = '0' + month;
                            if (day.length < 2)
                                day = '0' + day;

                            return [year, month, day].join('-');
                        }
                        var classPassed = '';
                        (data[i].hasPassed) ? classPassed = 'text-success' : classPassed = 'text-danger'
                        var passed = '';
                        (data[i].hasPassed) ? passed = 'Passed' : passed = 'Failed'
                        $("#module").append('\<div class="timeline-section">\
                                                <button id="showDataExam" class="timeline-date">\
                                                    ' + formatDate(dt) + '\
                                                 </button>\
                                                    <div class="row">\
                                                        <div class="col-sm-4">\
                                                            <div id="dataExamResult" class="timeline-box">\
                                                            <div class="box-title">\
                                                                <i class="fa fa-asterisk text-success" aria-hidden="true"></i>\
                                                            </div>\
                                                            <div class="box-content">\
                                                                <div class="box-item text-white"><strong>Score</strong>: ' + data[i].score + '</div>\
                                                                <div class="box-item text-white"><strong>Grade</strong>: ' + data[i].grade + '</div>\
                                                                <div class="box-item text-white ' + classPassed + '"><strong>Status :</strong> ' + passed + '</div>\
                                                            </div>\
                                                            <div class="box-footer"></div>\
                                                        </div>\
                                                    </div>\
                                                </div>\
                                            </div>');

                        $("#dataExamResult").hide();
                        $("#showDataExam").click(function () {
                            $("#dataExamResult").show();
                        });
                    }
                }
            });
        }
        ;

    </script>
</html>
<!-- end document-->